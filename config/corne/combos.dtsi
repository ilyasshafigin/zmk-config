/* Copied (modified) from https://github.com/caksoylar/zmk-config */
#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TERM, QUICKTAP) \
    combo_##NAME { \
        timeout-ms = <TERM>; \
        bindings = <BINDINGS>; \
        key-positions = <KEYPOS>; \
        layers = <LAYERS>; \
        require-prior-idle-ms = <QUICKTAP>; \
    };

/ {
    combos {
        compatible = "zmk,combos";

        /*
          KEY POSITIONS
          ╭────────────────────────╮  ╭────────────────────────╮
          │ 0   1   2   3   4   5  │  │ 6   7   8   9   10  11 │
          │ 12  13  14  15  16  17 │  │ 18  19  20  21  22  23 │
          │ 24  25  26  27  28  29 │  │ 30  31  32  33  34  35 │
          ╰───────────╮ 36  37  38 │  │ 39  40  41 ╭───────────╯
                      ╰────────────╯  ╰────────────╯
        */

        para_left {
            bindings = <&kp LEFT_PARENTHESIS>;
            key-positions = <4 5>;
            timeout-ms = <20>;
        };

        para_right {
            bindings = <&kp RIGHT_PARENTHESIS>;
            key-positions = <6 7>;
            timeout-ms = <20>;
        };

        brak_left {
            bindings = <&kp LEFT_BRACKET>;
            key-positions = <16 17>;
            timeout-ms = <20>;
        };

        brak_right {
            bindings = <&kp RIGHT_BRACKET>;
            key-positions = <18 19>;
            timeout-ms = <20>;
        };

        brace_left {
            bindings = <&kp LEFT_BRACE>;
            key-positions = <28 29>;
            timeout-ms = <20>;
        };

        brace_right {
            bindings = <&kp RIGHT_BRACE>;
            key-positions = <30 31>;
            timeout-ms = <20>;
        };

        double_quote {
            bindings = <&kp DOUBLE_QUOTES>;
            key-positions = <27 28>;
            timeout-ms = <20>;
        };

        single_quote {
            bindings = <&kp SINGLE_QUOTE>;
            key-positions = <31 32>;
            timeout-ms = <20>;
        };

        // minus {
        //     bindings = <&kp MINUS>;
        //     key-positions = <3 4>;
        //     timeout-ms = <20>;
        // };

        // plus {
        //     bindings = <&kp PLUS>;
        //     key-positions = <2 3>;
        //     timeout-ms = <20>;
        // };

        // equal {
        //     bindings = <&kp EQUAL>;
        //     key-positions = <26 27>;
        //     timeout-ms = <20>;
        // };

        // underscore {
        //     bindings = <&kp UNDERSCORE>;
        //     key-positions = <7 8>;
        //     timeout-ms = <20>;
        // };

        // pipe {
        //     bindings = <&kp PIPE>;
        //     key-positions = <8 9>;
        //     timeout-ms = <20>;
        // };

        lang_ru {
            bindings = <&kp LG(F11)>;
            key-positions = <15 16>;
            timeout-ms = <20>;
        };

        lang_en {
            bindings = <&kp LG(F12)>;
            key-positions = <19 20>;
            timeout-ms = <20>;
        };
    };
};
